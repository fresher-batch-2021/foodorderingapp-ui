<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
 <link rel="stylesheet" href="styles.css">
<script src="https://cdnjs.cloudflare.com/ajax/libs/axios/0.21.1/axios.min.js" integrity="sha512-bZS47S7sPOxkjU/4Bt0zrhEtWx0y0CRkhEp8IckzK+ltifIIE9EMIMTuT/mEzoIMewUINruDBIR/jJnbguonqQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
</head>
<body>
    <header id="header"></header>
<form onsubmit="login()">
    <label for="email"> EmailId:</label><br><br>
    <input type="email" id="email" name="email"placeholder="Enter the mailID"><br><br>
    <label for="password"> password:</label><br><br>
    <input type="password" id="password" name="password" placeholder="Enter the password"><br><br>
    <button>Login </button><br>
    
    <a href="forgotpassword.html" style="color:red;">Forgotpassword</a> 

    </form>
    <script>
            function login()
            {
                event.preventDefault();
                const email=document.getElementById("email").value;
                const password=document.getElementById("password").value;

                    if(password.length < 8)
                    {
                        alert("password must be 8 characters");

                    }
                    else
                    {
                          const userobj={
                         "email" : email,
                          "password": password
                     };
                 console.log(userobj);
                 const url="https://product-mock-api.herokuapp.com/foodapp/api/v1/auth/login";
                 axios.post(url,userobj).then(res=>
                 {
                     let data=res.data;
                     console.log(data);
                     alert("successfully login");
                     window.location.href="index.html";
                 }) .catch(err=>
                 {
                     console.error("err");
                     alert("Incorrect Password");
                 });
                 
                    }
                 
             }

    </script>
    <script src="jquery.js"></script>

    <script>
        $("#header").load("header.html") 
        </script>
 </body>
</html>  